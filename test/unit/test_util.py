import unittest

import bencodepy


@unittest.skip("Unskip on demand to generate test data")
class TestDataGenerator(unittest.TestCase):
    def test_write_torrent_file(self):
        r"""
        Sample torrent file content:

        b"d8:announce55:http://bittorrent-test-tracker.codecrafters.io/announce10:created by13:mktorrent 1.14:infod6:lengthi2994120e4:name12:codercat.gif12:piece lengthi262144e6:pieces240:<40\x9f\xae\xbf\x01\xe4\x9c\x0fc\xc9\x0b~\xdc\xc2%\x9bj\xd0\xb8Q\x9b.\xa9\xbb7?\xf5g\xf6DB\x81V\xc9\x8a\x1d\x00\xfc\x9d\xc8\x13fXu6\xf4\x8c \x98\xa1\xd7\x96\x92\xf2Y\x0f\xd9\xa6\x03<a\xe7\x17\xf8\xc0\xd1\xe5XPh\x0e\xb4Q\xe3T;b\x03oT\xe7F\xec6\x9fe\xf3-E\xf7{\x1f\x1c7b\x1f\xb9e\xc6VpKx\x10~\xd5S\xbd\x08\x13\xf9/\xefx\x02g\xc0{t1\xb8h17\xd2\x0f\xf5\x94\xb1\xf1\xbf?\x885\x16]h\xfb\x042\xbd\x8ew\x96\x08\xd2w\x82\xb7y\xc7s\x80b\xe9\xb5\n\xb5\xd6\xbc\x04\t\xa0\xf3\xa9P8Wf\x9dG\xfeu-Ew\xea\x00\xa8n\xe6\xab\xbc0\xcd\xdb\x80\n\x0bb\xd7\xa2\x96\x11\x11f\xd89x?R\xb7\x0f\x0c\x90-V\x19k\xd3\xee\x7f7\x9b]\xb5~;=\x8d\xb9\xe3M\xb6;K\xa1\xbe'\x93\t\x11\xaa7\xb3\xf9\x97\xddee"  # noqa
        """

        data = {
            b"announce": b"http://bittorrent-test-tracker.codecrafters.io/announce",
            b"created by": b"mktorrent 1.1",
            b"info": {
                b"length": 2549700,
                b"name": b"itsworking.gif",
                b"piece length": 262144,
                b"pieces": b"\x01\xcc\x17\xbb\xe6\x0f\xa5\xa5/d\xbd_[d\xd9\x92\x86\xd5\n\xa5\x83\x8fp<\xf7\xf6\xf0\x8d\x1cI~\xd3\x90\xdfx\xf9\r_ufE\xbf\x10\x97KX\x16I\x1e0b\x8bx\xa3\x82\xca6\xc4\xe0_\x84\xbeK\xd8U\xb3K\xce\xdc\x0cn\x98\xf6m>|c5=\x1e\x86Bz\xc9MnO!\xa6\xd0\xd6\xc8\xb7\xff\xa4\xc3\x93\xc3\xb11|p\xcd_D\xd1\xacU\x05\xcb\x85]Rl\xeb\x0f_\x1c\xd5\xe37\x96\xab\x05\xaf\x1f\xa8t\x17:\nl\x12\x98bZ\xd4{O\xe6'*\x8f\xf8\xfc\x86[\x05=\x97Jxh\x14\x14\xb3\x80w\xd7\xb1\xb0q(\xd3\xa6\x01\x80b\xbf\xe7y\xdb\x96\xd3\xa9<\x05\xfb\x81\xd4z\xff\xc9O\t\x85\xb9\x85\xeb\x88\x8a6\xec\x92e(!\xa2\x1b\xe4",  # noqa
            },
        }
        content = bencodepy.encode(data)

        with open("../data/itsworking.torrent", "wb") as f:
            f.write(content)
